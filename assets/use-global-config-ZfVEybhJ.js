import{a as _,i as K,b as S,u as N,r as Z,s as j}from"./base-BOVE5efH.js";import{$ as c,j as i,a,s as v,r as y,ae as O,z as E}from"./index-rcW_pH8g.js";import{u as V,l as F}from"./index-DL17Y2WH.js";import{S as k}from"./icon-D8zniuSg.js";const C=Symbol(),m={current:0},p=y(0),g=2e3,x=Symbol("elZIndexContextKey"),b=Symbol("zIndexContextKey"),G=n=>{const r=c()?i(x,m):m,o=n||(c()?i(b,void 0):void 0),s=a(()=>{const l=v(o);return _(l)?l:g}),t=a(()=>s.value+p.value),u=()=>(r.current++,p.value=r.current,t.value);return!K&&i(x),{initialZIndex:s,currentZIndex:t,nextZIndex:u}},J=Symbol("emptyValuesContextKey");S({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>O(n)?!n():!n}});const I=n=>Object.keys(n),d=y();function z(n,r=void 0){const o=c()?i(C,d):d;return n?a(()=>{var s,t;return(t=(s=o.value)==null?void 0:s[n])!=null?t:r}):o}function D(n,r){const o=z(),s=N(n,a(()=>{var e;return((e=o.value)==null?void 0:e.namespace)||Z})),t=V(a(()=>{var e;return(e=o.value)==null?void 0:e.locale})),u=G(a(()=>{var e;return((e=o.value)==null?void 0:e.zIndex)||g})),l=a(()=>{var e;return v(r)||((e=o.value)==null?void 0:e.size)||""});return P(a(()=>v(o)||{})),{ns:s,locale:t,zIndex:u,size:l}}const P=(n,r,o=!1)=>{var s;const t=!!c(),u=t?z():void 0,l=(s=void 0)!=null?s:t?E:void 0;if(!l)return;const e=a(()=>{const f=v(n);return u?.value?T(u.value,f):f});return l(C,e),l(F,a(()=>e.value.locale)),l(j,a(()=>e.value.namespace)),l(b,a(()=>e.value.zIndex)),l(k,{size:a(()=>e.value.size||"")}),l(J,a(()=>({emptyValues:e.value.emptyValues,valueOnClear:e.value.valueOnClear}))),(o||!d.value)&&(d.value=e.value),e},T=(n,r)=>{const o=[...new Set([...I(n),...I(r)])],s={};for(const t of o)s[t]=r[t]!==void 0?r[t]:n[t];return s};export{z as a,G as b,D as u};
